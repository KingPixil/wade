/**
 * Wade v0.3.3
 * Copyright 2017 Kabir Shah
 * Released under the MIT License
 * https://github.com/kbrsh/wade
 */
!function(e,n){"undefined"==typeof module?e.Wade=n():module.exports=n()}(this,function(){var e={stopWords:["about","after","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","see","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your","a","i"],punctuationRE:/[.,!?:;"']/g},n=function(e,n){for(var r=n,o=0;o<e.length&&void 0!==(r=r[e[o]]);o++);return r},r=function(e,n,r,o){for(var t=null,i=0;i<e.length;i++){var a=e[i];void 0===(t=r[a])?(r[a]=n.length,n.push({index:a,score:o})):n[t].score+=o}},o=function(e,o,t,i,a){var u=n(e,o);void 0!==u&&void 0!==u.id&&r(u.id,t,i,a)},t=function(e,o,t,i,a){var u=n(e,o);if(void 0!==u)for(var h=[u],d=null,s=0;0!==h.length;){void 0!==(d=h[s]).id&&r(d.id,t,i,a),h.pop(),s--;for(var f in d)h.push(d[f]),s++}},i=function(e){var n=e.length-1;return" "===e[0]&&(e=e.substring(1))," "===e[n]&&(e=e.substring(0,n)),e.split(" ")},a=function(e){return e.toLowerCase()},u=function(n){return n.replace(e.punctuationRE,"")},h=function(e){for(var n=i(e),r=n.length;0!=r--;)-1!==d.config.stopWords.indexOf(n[r])&&n.splice(r,1);return n.join(" ")},d=function(e){var n=function(e){var r=n.index,a=d.process(e);if(!1===a)return[];for(var u=i(a),h=u.length,s=h-1,f=1/h,l=[],v={},c=0;c<s;c++)o(u[c],r,l,v,f);return t(u[s],r,l,v,f),l};if(Array.isArray(e)){for(var r=e.length,a=new Array(r),u=null,h=0;h<r;h++)!1!==(u=d.process(e[h]))&&(a[h]=u);n.index=d.index(a),n.data=a}else n.index=e.index,n.data=e.data;return n};return d.pipeline=[a,u,h],d.process=function(e){for(var n=d.pipeline,r=0;r<n.length;r++)e=n[r](e);return 0!==e.length&&e},d.index=function(e){for(var n={},r=0;r<e.length;r++){var o=e[r];if(void 0!==o)for(var t=i(o),a=0;a<t.length;a++){for(var u=t[a],h=u.length-1,d=n,s=0;s<h;s++){var f=u[s],l=d[f];l=void 0===l?{}:l,d[f]=l,d=l}var v=u[h];void 0===d[v]?d[v]={id:[r]}:void 0===(d=d[v]).id?d.id=[r]:d.id.push(r)}}return n},d.save=function(e){return{data:e.data,index:e.index}},d.config=e,d.version="0.3.3",d});