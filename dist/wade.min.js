/**
 * Wade v0.3.3
 * Copyright 2017 Kabir Shah
 * Released under the MIT License
 * https://github.com/kbrsh/wade
 */
!function(e,r){"undefined"==typeof module?e.Wade=r():module.exports=r()}(this,function(){var e=/\s+/g,r={stopWords:["about","after","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","see","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your","a","i"],punctuationRE:/[.,!?:;"']/g},t=function(e,r,t,n){for(var o=n[0],a=1;a<n.length;a++){var i=n[a],h=r[i];if(void 0===h){var u=e.length;r[i]=u,e[u]={index:i,score:o*t}}else e[h].score+=o*t}},n=function(r){var t=r.split(e);return 0===t[0].length&&t.shift(),0===t[t.length-1].length&&t.pop(),t},o=function(e){var r=function(e){var a=r.index,i=o.process(e),h=[],u={};if(0===i.length)return h;var s=n(i),f=s.length,v=f-1,l=1/f;if(0===f)return h;e:for(var d=0;d<v;d++){for(var c=s[d],g=a,p=0;p<c.length;p++)if(void 0===(g=g[c[p]]))continue e;var m=g.data;void 0!==m&&t(h,u,l,m)}for(var w=s[v],y=a,b=0;b<w.length;b++){var x=y[w[b]];if(void 0===x)break;y=x}for(var k,W=[y];k=W.pop();){var A=k.data;void 0!==A&&t(h,u,l,A);for(var E in k)W.push(k[E])}return h};return!0===Array.isArray(e)?r.index=o.index(e):r.index=e,r};return o.pipeline=[function(e){return e.toLowerCase()},function(e){return e.replace(r.punctuationRE,"")},function(e){for(var t=r.stopWords,o=n(e),a=o.length;0!=a--;)-1!==t.indexOf(o[a])&&o.splice(a,1);return o.join(" ")}],o.process=function(e){if(0===e.length)return e;for(var r=o.pipeline,t=0;t<r.length;t++)e=r[t](e);return e},o.index=function(e){for(var r=e.length,t={},a=[],i=[],h=0;h<r;h++){var u=o.process(e[h]);if(0!==u.length){var s=n(u),f=s.length;a.push(f);for(var v=0;v<f;v++){for(var l=s[v],d=l.length-1,c=t,g=0;g<d;g++){var p=l[g],m=c[p];void 0===m&&(m=c[p]={}),c=m}var w=l[d];if(void 0===c[w])c=c[w]={data:[1,h]},i.push(c);else{var y=(c=c[w]).data;void 0===y?(c.data=[1,h],i.push(c)):y.push(h)}}}}for(var b=0;b<i.length;b++){for(var x=i[b].data,k=1,W=0,A=1;A<x.length;A++){var E=x[A];x[A+1]===E?k++:(W+=k/a[E],k=1)}x[0]=1.5-W/r}return t},o.save=function(e){return e.index},o.config=r,o.version="0.3.3",o});