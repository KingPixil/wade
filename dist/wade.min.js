/**
 * Wade v0.3.3
 * Copyright 2017 Kabir Shah
 * Released under the MIT License
 * https://github.com/kbrsh/wade
 */
!function(e,r){"undefined"==typeof module?e.Wade=r():module.exports=r()}(this,function(){var e=/\s+/g,r={stopWords:["about","after","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","see","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your","a","i"],punctuationRE:/[.,!?:;"']/g},t=function(e,r,t,n){for(var o=n[0],a=1;a<n.length;a++){var i=n[a],h=r[i];if(void 0===h){var u=e.length;r[i]=u,e[u]={index:i,score:o*t}}else e[h].score+=o*t}},n=function(r){var t=r.split(e);return 0===t[0].length&&t.shift(),0===t[t.length-1].length&&t.pop(),t},o=function(e){var r=function(e){var o=r.index,a=n(e),i=a.length,h=i-1,u=1/i,s=[],d={};if(0===i)return s;e:for(var f=0;f<h;f++){for(var v=a[f],l=o,c=0;c<v.length;c++)if(void 0===(l=l[v[c]]))continue e;var p=l.data;void 0!==p&&t(s,d,u,p)}for(var g=a[h],m=o,w=0;w<g.length;w++){var y=m[g[w]];if(void 0===y)break;m=y}for(var b,x=[m];b=x.pop();){var k=b.data;void 0!==k&&t(s,d,u,k);for(var W in b)x.push(b[W])}return s};if(!0===Array.isArray(e)){for(var a=e.length,i=[],h=0;h<a;h++){var u=o.process(e[h]);0!==u.length&&i.push(u)}r.index=o.index(i),r.data=i}else r.index=e.index,r.data=e.data;return r};return o.pipeline=[function(e){return e.toLowerCase()},function(e){return e.replace(r.punctuationRE,"")},function(e){for(var t=r.stopWords,o=n(e),a=o.length;0!=a--;)-1!==t.indexOf(o[a])&&o.splice(a,1);return o.join(" ")}],o.process=function(e){for(var r=o.pipeline,t=0;t<r.length;t++)e=r[t](e);return e},o.index=function(e){for(var r=e.length,t={},o=[],a=[],i=0;i<r;i++){var h=n(e[i]),u=h.length;o.push(u);for(var s=0;s<u;s++){for(var d=h[s],f=d.length-1,v=t,l=0;l<f;l++){var c=d[l],p=v[c];void 0===p&&(p=v[c]={}),v=p}var g=d[f];if(void 0===v[g])v=v[g]={data:[1,i]},a.push(v);else{var m=(v=v[g]).data;void 0===m?(v.data=[1,i],a.push(v)):m.push(i)}}}for(var w=0;w<a.length;w++){for(var y=a[w].data,b=1,x=0,k=1;k<y.length;k++){var W=y[k];y[k+1]===W?b++:(x+=b/o[W],b=1)}y[0]=1.5-x/r}return t},o.save=function(e){return{data:e.data,index:e.index}},o.config=r,o.version="0.3.3",o});